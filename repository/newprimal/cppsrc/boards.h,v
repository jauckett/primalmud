head	1.7;
access;
symbols
	A3_0_59:1.2
	LATEST:1.2
	A3_0_1:1.2;
locks; strict;
comment	@ * @;


1.7
date	2003.12.17.02.25.06;	author mud;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.16.03.19.09;	author mud;	state Exp;
branches;
next	1.5;

1.5
date	2001.06.15.11.37.00;	author artus;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.03.05.19.45;	author artus;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.03.01.30.15;	author rod;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.14.00.52.56;	author primal;	state Exp;
branches;
next	1.1;

1.1
date	2000.05.12.07.43.57;	author mbd;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Artus> Mostly just cosmetic changes, mostly for underwater stuff..
       Added some more stuff to dg_scripts:

       %actor.affected(aff_bit)% - Is actor affected by whatever.
       %self.people(countpc)%    - (Rooms): Count players.
       %self.people(countnpc)%   - (Rooms): Count npcs.
       %self.people(countall)%   - (Rooms): Count chars.
       %firstchar.<room_vnum>%   - First character in room <vnum>

       Possibly a bugfix to one of the forest specials that was attacking you
       if you were affected by poison.
@
text
@/* ************************************************************************
*   File: boards.h                                      Part of CircleMUD *
*  Usage: header file for bulletin boards                                 *
*                                                                         *
*  All rights reserved.  See license.doc for complete information.        *
*                                                                         *
*  Copyright (C) 1993, 94 by the Trustees of the Johns Hopkins University *
*  CircleMUD is based on DikuMUD, Copyright (C) 1990, 1991.               *
************************************************************************ */

#define NUM_OF_BOARDS		15	/* change if needed! */
#define MAX_BOARD_MESSAGES 	100     /* arbitrary -- change if needed */
#define MAX_MESSAGE_LENGTH	4096	/* arbitrary -- change if needed */

#define INDEX_SIZE	   ((NUM_OF_BOARDS*MAX_BOARD_MESSAGES) + 5)

#define BOARD_MAGIC	1048575	/* arbitrary number - see modify.c */

struct board_msginfo {
   int	slot_num;     /* pos of message in "master index" */
   char	*heading;     /* pointer to message's heading */
   int	level;        /* level of poster */
   int	heading_len;  /* size of header (for file write) */
   int	message_len;  /* size of message text (for file write) */
};

struct board_info_type {
   obj_vnum vnum;	/* vnum of this board */
   int	read_lvl;	/* min level to read messages on this board */
   int	write_lvl;	/* min level to write messages on this board */
   int	remove_lvl;	/* min level to remove messages from this board */
   char	filename[50];	/* file to save this board to */
   obj_rnum rnum;	/* rnum of this board */
};

#define BOARD_VNUM(i) (board_info[i].vnum)
#define READ_LVL(i) (board_info[i].read_lvl)
#define WRITE_LVL(i) (board_info[i].write_lvl)
#define REMOVE_LVL(i) (board_info[i].remove_lvl)
#define FILENAME(i) (board_info[i].filename)
#define BOARD_RNUM(i) (board_info[i].rnum)

#define NEW_MSG_INDEX(i) (msg_index[i][num_of_msgs[i]])
#define MSG_HEADING(i, j) (msg_index[i][j].heading)
#define MSG_SLOTNUM(i, j) (msg_index[i][j].slot_num)
#define MSG_LEVEL(i, j) (msg_index[i][j].level)
#define IS_CLAN_BOARD(i) ((board_info[i].vnum >= (CLAN_ZONE * 100)) && (board_info[i].vnum < (CLAN_ZONE * 100 + 500))) 

int	Board_display_msg(int board_type, struct char_data *ch, char *arg, struct obj_data *board);
int	Board_show_board(int board_type, struct char_data *ch, char *arg, struct obj_data *board);
int	Board_remove_msg(int board_type, struct char_data *ch, char *arg, struct obj_data *board);
int	Board_write_message(int board_type, struct char_data *ch, char *arg, struct obj_data *board);
void	Board_save_board(int board_type);
void	Board_load_board(int board_type);
void	Board_reset_board(int board_num);
void assign_boards(void);
@


1.6
log
@Artus>
Trap Obj is now VNUM 25599 aka TRAP_OBJ
Modified board code to handle clan boards.
Reduced number of clans to 8 (was 32).
Added a few new clan defines.. GET_CLAN_REL(us, them); CLAN_AT_PEACE(us, them),
  CLAN_AT_WAR(us, them); CLAN_ALLIED(us, them);...
Fixed up the clan destroy routine.
Set slowns to default on.
Remove loop for assigning clan mobs, replaced with sequential assigns.
@
text
@d11 1
a11 1
#define NUM_OF_BOARDS		14	/* change if needed! */
@


1.5
log
@Artus - Modified for clan boards.
@
text
@d11 1
a11 1
#define NUM_OF_BOARDS		38	/* change if needed! */
@


1.4
log
@Modified: DM

Added:
- clan boards, updated old stock boards
@
text
@d47 1
@


1.3
log
@board limit from 60-100
@
text
@d11 1
a11 1
#define NUM_OF_BOARDS		7	/* change if needed! */
d55 1
@


1.2
log
@
Added:
- Ahh, too much stuff, sorry was ages since this stuff was last checked in
@
text
@d12 1
a12 1
#define MAX_BOARD_MESSAGES 	60      /* arbitrary -- change if needed */
@


1.1
log
@

Added:
- Modified files to compile with g++ - this is the initial import of those
  files.

TODO:
- Test it all works 100%
@
text
@d11 1
a11 1
#define NUM_OF_BOARDS		4	/* change if needed! */
@

